<h1>Projects - Public View</h1>

<head>
  <style>
  </style>
</head>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


  <%= form_tag projects_public_path, :method => "get" do %>
    <% Type.all.each do |type| %>
      <li>
      <%= label_tag(:search, type.TypeName) %>
      <%= check_box "search", "multibox", {:multiple => true }, type.TypeName, nil  %>
      </li>
    <% end %>
    <% Contribution.all.each do |cont| %>
      <li>
      <%= label_tag(:search, cont.ContributionType) %>
      <%= check_box "search", "multibox", {:multiple => true }, cont.ContributionType, nil  %>
      </li>
    <% end %>
    <%= submit_tag("Search", :name => nil) %>
  <% end %>

  <br><br>

<div class="row row-cols-1 row-cols-md-6 g-4">
    <% @projects.each do |project| %>
        <div class="col">
            <div class="card h-100">
                <% if project.ProjectCover.representable? %>
                <%= image_tag project.ProjectCover.representation(resize_to_limit: [100, 100]), class: "card-img-top"%>
                <% else %>
                <%= image_tag "https://via.placeholder.com/100", alt: "Download file" %>
                <% end %>

                <div class="card-body">
                    <h5 class="card-title">
                        <%= project.ProjectName %>
                    </h5>
                    <h6><%= Type.find(project.TypeID).TypeName %></h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <%= link_to 'More Info', project, :class => "btn btn-primary btn-rra" %>
                    <%= link_to "Link", project.ProjectLink, rel: 'noopener', target: '_blank', class: 'btn btn-primary' %>
                    </a>
                </div>
            </div>
        </div>
    <% end %>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

